<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.149.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Steven&#39;s Blog</title>
<meta name="keywords" content="æŠ€æœ¯åšå®¢, Androidå¼€å‘, ç§»åŠ¨å¼€å‘, æºç åˆ†æ, å­¦ä¹ ç¬”è®°">
<meta name="description" content="è®°å½•å­¦ä¹ ä¸ç”Ÿæ´» | æŠ€æœ¯ä¸æ€è€ƒ">
<meta name="author" content="Steven">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33"><meta name="description" content="è®°å½•å­¦ä¹ ä¸ç”Ÿæ´» | æŠ€æœ¯ä¸æ€è€ƒ">
  <meta name="keywords" content="æŠ€æœ¯åšå®¢, Androidå¼€å‘, ç§»åŠ¨å¼€å‘, æºç åˆ†æ, å­¦ä¹ ç¬”è®°">
  <meta name="author" content="Steven"><meta property="og:type" content="website">
  <meta property="og:title" content="Steven&#39;s Blog">
  <meta property="og:description" content="è®°å½•å­¦ä¹ ä¸ç”Ÿæ´» | æŠ€æœ¯ä¸æ€è€ƒ">
  <meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="Steven&#39;s Blog"><meta property="og:image" content="http://localhost:1313/img/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630"><meta name="twitter:card" content="">
  <meta name="twitter:title" content="Steven&#39;s Blog">
  <meta name="twitter:description" content="è®°å½•å­¦ä¹ ä¸ç”Ÿæ´» | æŠ€æœ¯ä¸æ€è€ƒ"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Steven\u0027s Blog",
  "description": "è®°å½•å­¦ä¹ ä¸ç”Ÿæ´» | æŠ€æœ¯ä¸æ€è€ƒ",
  "url": "http:\/\/localhost:1313\/",
  "publisher": {
    "@type": "Organization",
    "name": "Steven\u0027s Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http:\/\/localhost:1313\/img\/logo.png"
    }
  }}
</script>
<script async defer data-website-id="70beee45-da0f-44e1-8b5b-0233aec057dd" src="https://cloud.umami.is/script.js"></script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Steven&#39;s Blog (Alt + H)">Steven&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="é¦–é¡µ">
                    <span class="active">é¦–é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="æœç´¢">
                    <span>æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>ğŸ‘‹ æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</h1>
    </header>
    <div class="entry-content">
        è¿™é‡Œè®°å½•æŠ€æœ¯ã€æˆé•¿ä¸æ€è€ƒã€‚
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Android install apk å…¼å®¹è‡³ Android 8
    </h2>
  </header>
  <div class="entry-content">
    <p>å‰è¨€ ä»¥å¾€å®‰è£…apkéƒ½æ˜¯å¾ˆç®€å•çš„æ–¹æ³•, Intent é‡Œæ·»åŠ apkçš„æ–‡ä»¶å°±å¯ä»¥è°ƒç”¨ç³»ç»Ÿå®‰è£…ç•Œé¢.åæ¥éšç€è°·æ­Œå¯¹å®‰å…¨çš„é‡è§†,ä»Android 7å¼€å§‹ä»¥å¾€çš„æ–¹å¼éƒ½ä¸èƒ½ç”¨,ç„¶è€Œåˆ°Android 8 åˆæœ‰æ”¹åŠ¨,ç›¸ä¿¡éšç€Android çš„å‘å±•,ä»¥åçš„ç‰ˆæœ¬ä¹Ÿä¼šæœ‰æ”¹åŠ¨,å´‡å°šæ¨¡å—åŒ–å¼€å‘çš„æˆ‘ä¾¿å¸Œæœ›æ¯ä¸€ä¸ªç»†å°çš„åŠŸèƒ½,é¢—ç²’åº¦æœ€å°‘çš„åŠŸèƒ½éƒ½å¯ä»¥ç”±ä¸€ä¸ªæ¨¡å—æ¥è´Ÿè´£,ç„¶åæ¯ä¸ªé¡¹ç›®éœ€è¦è¿™ä¸ªåŠŸèƒ½æ—¶è°ƒç”¨è¿™ä¸ªæ¨¡å—å³å¯,è€Œè¿™ä¸ªæ¨¡å—åªéœ€è¦ç»´æŠ¤å¥½è‡ªå·±çš„å…¼å®¹æ€§é—®é¢˜ä¾¿è§£å†³æ‰€æœ‰é¡¹ç›®çš„å…¼å®¹æ€§é—®é¢˜.
æœ¬æ–‡æ€è·¯æ˜¯æä¾›ä¸€ä¸ªç¬”è€…æš‚æ—¶è§‰å¾—æœ€ä¼˜çš„æ–¹æ¡ˆ,ç„¶ååŸç†åˆ†ææä¾›æ¯ä¸ªAndroid ç‰ˆæœ¬çš„å®‰è£…çš„åŸç†æ€è·¯
æœ€ä¼˜è§£å†³æ–¹æ¡ˆ Android Install Apk åº“ æœ€ä¼˜è§£å†³æ–¹æ¡ˆ : FitAndroid8
é¦–å…ˆç¬”è€…åœ¨è§£å†³Android 7 çš„å®‰è£…é—®é¢˜æ—¶,é‡åˆ°ç³»ç»Ÿçš„ç§æœ‰ç›®å½•è®¿é—®é™åˆ¶é—®é¢˜,åœ¨è§£å†³åŒæ—¶æ„Ÿè§‰è°·æ­Œæä¾›çš„è§£å†³æ–¹æ¡ˆç‰¹åˆ«éº»çƒ¦,éœ€è¦é¡¹ç›®é‡Œå› ä¸ºé’ˆå¯¹Android 7 è€Œå¢åŠ ä¸€äº›æ–‡ä»¶å’ŒAndroidManifest å¢åŠ ä¸€äº›ä»£ç ,è¿™éå¸¸ä¸åˆç†,åˆ°äº†ä¹‹åçš„ç‰ˆæœ¬æˆ–è®¸åˆä¸ä¸€æ ·,è¿™äº›é¢å¤–çš„ä»£ç éƒ½ä¼šå¸¦æ¥ç»´æŠ¤çš„æˆæœ¬,åæ¥æœç´¢å¾ˆä¹…å‘ç° FitAndroid7 è¿™ä¸ªåº“ç‰¹åˆ«é€‚åˆ,åœ¨ä¸ç”¨å¢åŠ è‡ªå·±é¡¹ç›®é¢å¤–çš„ä»£ç åŒæ—¶,è§£å†³Android 7 ä»¥ä¸‹çš„å®‰è£…é—®é¢˜.ç„¶ååˆ°Android 8 ç³»ç»Ÿæ—¶å‘ç°è¿™ä¸ªåº“åŠŸèƒ½å¤±æ•ˆ,æ‰€ä»¥ç¬”è€…ä¾¿åœ¨å‰è€…çš„åŸºç¡€ä¸Šç¨å¾®ä¿®æ”¹,è®©FitAndroid8èƒ½å…¼å®¹æš‚æ—¶æ‰€æœ‰ç‰ˆæœ¬çš„å®‰è£…,ä¸€è¡Œä»£ç å®Œæˆä¸€ä¸ªåŠŸèƒ½,ä¸å¼•å…¥å…¶ä»–é¢å¤–ä¸é¡¹ç›®æ— å…³çš„ä»£ç å’Œæ–‡ä»¶.
ä½¿ç”¨æ–¹å¼:
public void installApk(View view) { File file = new File(Environment.getExternalStorageDirectory(), &#34;app-debug.apk&#34;); Intent intent = new Intent(Intent.ACTION_VIEW); // ä»…éœ€æ”¹å˜è¿™ä¸€è¡Œ FileProvider8.setIntentDataAndType(this, intent, &#34;application/vnd.android.package-archive&#34;, file, true); startActivity(intent); } åŸç†åˆ†æ ç¬”è€…çš„ä¹ æƒ¯æ˜¯æŠŠé—®é¢˜ç”¨æœ€ç®€å•çš„æ–¹å¼è§£å†³,åŒæ—¶ä¹Ÿéœ€è¦çŸ¥é“å…¶åŸç†,ä»¥ä¸‹å†…å®¹ä¸ºåŸç†è§£æ.
Android 8 å¦‚ä½•å®‰è£…apk Android 8åˆ°æ—¶æœ‰äº†ä»€ä¹ˆæ”¹å˜ä»¥è‡´å®‰è£…apkçš„æ–¹æ³•æœ‰å¾ˆå¤§æ”¹å˜å‘¢?
åœ¨2017å¹´8æœˆ29å·çš„è°·æ­Œå¼€å‘è€…åšå®¢ä¸­å†™é“ Â«åœ¨ Android O ä¸­æ›´å®‰å…¨åœ°è·å–åº”ç”¨Â»æ–°çš„å®‰è£…æœªçŸ¥åº”ç”¨çš„,Android O ç¦ç”¨äº†æ€»æ˜¯å®‰è£…æœªçŸ¥åº”ç”¨çš„é€‰æ‹©,æ”¹ä¸ºå®‰è£…æœªçŸ¥åº”ç”¨æ—¶æå‡ºè®¾ç½®çš„æç¤º,å‡å°‘æ¶æ„åº”ç”¨é€šè¿‡è™šå‡çš„å®‰è£…ç•Œé¢æ¬ºéª—ç”¨æˆ·è¡Œä¸º. æ‰€ä»¥å¼€å‘è€…éœ€è¦è°ƒæ•´AndroidManifestæ–‡ä»¶é‡Œçš„æƒé™,å¢åŠ Â REQUEST_INSTALL_PACKAGESæƒé™.
...</p>
  </div>
  <footer class="entry-footer"><span title='2018-06-07 11:55:33 +0000 UTC'>June 7, 2018</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Steven</footer>
  <a class="entry-link" aria-label="post link to Android install apk å…¼å®¹è‡³ Android 8" href="http://localhost:1313/posts/android-install-apk-%E5%85%BC%E5%AE%B9%E8%87%B3-android-8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RetrofitCache æºç åˆ†æ
    </h2>
  </header>
  <div class="entry-content">
    <p>æœ€è¿‘å·¥ä½œé¡¹ç›®é‡Œæ·»åŠ ç½‘ç»œç¼“å­˜æ—¶çœ‹äº†è¿™ä¸ªé¡¹ç›®,å†…å®¹ä¸å¤š,æœ‰äº›æ–¹æ³•å¯å–ä¾¿è®°å½•ä¸‹æ¥
åŸç† RetrofitCache ä½¿ç”¨çš„æ–¹å¼æ˜¯okhttpåŸæœ‰çš„cacheæœºåˆ¶,ç„¶åå®ƒæä¾›äº†æ ‡ç­¾çš„æ–¹å¼,åœ¨Retrofitä¸Šç®€å•å®ç°,å‡å°‘ä»£ç å…¥ä¾µ,è¿™æ˜¯è¿™ä¸ªåº“çš„ä»·å€¼.
æ·»åŠ æ‹¦æˆªå™¨ okhttp3.OkHttpClient.Builder clientBuilder=new okhttp3.OkHttpClient.Builder(); ... clientBuilder.addInterceptor(new CacheForceInterceptorNoNet()); clientBuilder.addNetworkInterceptor(new CacheInterceptorOnNet()); ... é¦–å…ˆå¤ä¹ okhttp çš„ addInterceptor å’Œ addNetworkInterceptor çš„åŒºåˆ«
addInterceptoræ˜¯æ·»åŠ åœ¨ä¸æœåŠ¡å™¨è¿æ¥ä¹‹å‰å’Œä¹‹å addNetworkInterceptoræ˜¯æ·»åŠ åœ¨ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥å’Œå‘èµ·è¯·æ±‚çš„ä¹‹é—´
å…·ä½“å‚è€ƒ Retrofit2 &#43; OkHttp3 é…ç½®åŠInterceptoråŸç†
CacheInterceptorOnNet CacheInterceptorOnNetæ˜¯æ·»åŠ åœ¨ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥å’Œå‘èµ·è¯·æ±‚çš„ä¹‹é—´
è·å– maxAge ç¼“å­˜æ—¶é—´
å½“éœ€è¦ç¼“å­˜æ—¶
return response.newBuilder() .removeHeader(&#34;Cache-Control&#34;) .header(&#34;Cache-Control&#34;, &#34;public,max-age=&#34;&#43;maxAge) .removeHeader(&#34;Pragma&#34;) .build(); é€šè¿‡headeré‡Œé¢æ·»åŠ  public,max-age=maxAgeæ¥ç¼“å­˜,è€Œç¼“å­˜çš„å®ç°ç”± okhttp é‡Œé¢å®ç°
CacheForceInterceptorNoNet CacheForceInterceptorNoNetç±»æ˜¯å¤„ç†æœåŠ¡å™¨è¿æ¥ä¹‹å‰å’Œä¹‹å åŠŸèƒ½åŒç†,å”¯ä¸€ä¸åŒçš„æ˜¯åœ¨è¯·æ±‚ä¹‹å‰å¢åŠ äº†æ˜¯å¦ç½‘ç»œè¿æ¥çŠ¶æ€çš„åˆ¤æ–­
boolean forceCacheNoNet = RetrofitCache.getInstance().getCacheTime(url).isForceCacheNoNet(); if (forceCacheNoNet&amp;&amp;!NetUtils.isConnectNet(RetrofitCache.getInstance().getContext())){ request = request.newBuilder() .cacheControl(CacheControl.FORCE_CACHE) .build(); } å½“æ²¡æœ‰ç½‘ç»œçš„æƒ…å†µä¸‹,é€šè¿‡è°ƒç”¨okhttpçš„Cache-Controlæ¥æ”¹å˜çŠ¶æ€ å…·ä½“å‚è€ƒ Android Okhttpç½‘ç»œè¯·æ±‚ä¹‹ç¼“å­˜æ§åˆ¶Cache-Control
BaseInterceptor åœ¨beseç±»é‡Œ,ä¸€ä¸ªæ ¸å¿ƒçš„æ–¹æ³•æ˜¯mockResponse,è·å–åœ¨Apié‡Œé€šè¿‡æ ‡ç­¾æ·»åŠ çš„æ¨¡æ‹Ÿæ•°æ®å’ŒAssetè·å–çš„æ¨¡æ‹Ÿæ•°æ®.
è€ŒMockç±»å°±æ˜¯æ¨¡æ‹Ÿæ•°æ®çš„æŠ½è±¡ç±»,è€Œé€šè¿‡RetrofitCache.getInstance().getMockObject(url)è·å– ä½¿ç”¨Java Annotationæ³¨è§£çš„æ–¹å¼æ·»åŠ 
å…·ä½“å‚è€ƒ Java Annotationè®¤çŸ¥(åŒ…æ‹¬æ¡†æ¶å›¾ã€è¯¦ç»†ä»‹ç»ã€ç¤ºä¾‹è¯´æ˜)
æ€»ç»“ è¿™ä¸ªç¬¬ä¸‰åº“çš„æœ¬è´¨æ˜¯ä½¿ç”¨çš„okhttpçš„ç¼“å­˜æœºåˆ¶,ä½¿ç”¨Java Annotationçš„æ–¹æ³•çµæ´»åœ¨APIé‡Œæ·»åŠ æ³¨è§£,ä»¥å¾€é¡¹ç›®çš„æ³¨è§£çš„ä½¿ç”¨å¹¶ä¸å¤š,å¯ä»¥å¤šç”¨è¿™æ–¹å¼æé«˜ä»£ç çš„ç®€æ´æ€§,è€Œokhttpçš„æºç ä¹Ÿæ˜¯ä¸ç†Ÿæ‚‰,ä¹‹åå¯ä»¥è¯¦ç»†ç ”ç©¶okhttpçš„æºç .
...</p>
  </div>
  <footer class="entry-footer"><span title='2018-05-22 15:43:33 +0000 UTC'>May 22, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Steven</footer>
  <a class="entry-link" aria-label="post link to RetrofitCache æºç åˆ†æ" href="http://localhost:1313/posts/retrofitcache-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Android Gesture æ‰‹åŠ¿ç ”ç©¶
    </h2>
  </header>
  <div class="entry-content">
    <p>æ€ä¹ˆç†è§£ä¸€ä¸ªæ‰‹åŠ¿,å°±æ˜¯åœ¨å±å¹•ä¸Š,æ‰‹ç”»ä¸€ä¸ªç¬¦å·å°±æ˜¯ä¸€ä¸ªæ‰‹åŠ¿,å®ƒä»£è¡¨äº†ç”¨æˆ·çš„ä¸€ä¸ªæ„å›¾,ä¹Ÿå°±æ˜¯ç”¨æˆ·å¸Œæœ›ç¨‹åºåšç‚¹ä»€ä¹ˆ,ä¸€èˆ¬ç¨‹åºå¤§å¤šæ•°æ˜¯é€šè¿‡æŒ‰é’®,æŒ‰é’®ä¸Šæœ‰å¯¹åº”çš„æ–‡å­—,è¿™æ ·è¿›è¡Œäººæœºäº¤äº’,è€Œæ‰‹åŠ¿ä¹Ÿæ˜¯å¾ˆå¤šåœ°æ–¹ä¼šä½¿ç”¨åˆ°,è€Œå¸¸ç”¨çš„æ‰‹åŠ¿å¥½åƒä¸‹æ‹‰åˆ·æ–°,ç”¨æˆ·å¸Œæœ›åˆ—è¡¨å†…å®¹ä¸‹æ‹‰ä¸€ä¸‹å°±æœ‰æ–°çš„ä¿¡æ¯,åŒæŒ‡ç¼©æ”¾ç­‰ç­‰,ä¸€èˆ¬è¿™äº›æ‰‹åŠ¿éƒ½æ˜¯è·Ÿå¯¹åº”çš„viewç»‘å®šèµ·æ¥,è€Œä»Šå¤©ä»‹ç»çš„éƒ½æ˜¯æ–¹æ³•æ˜¯å¯ä»¥ä¸ç»‘å®šview,ç›´æ¥åœ¨ç•Œé¢ä¸Šç”»ä¸€ä¸ªæ‰‹åŠ¿å°±å¯ä»¥äººæœºäº¤äº’.å®ç°çš„ä»£ç å¯ä»¥åœ¨githubä¸Šçš„Demoæºç äº†è§£.
è¿™ç¯‡æ‰‹åŠ¿ç ”ç©¶ä¼šå¤§æ¦‚åˆ†ä¸‰éƒ¨åˆ†
æ‰‹åŠ¿Gestureä½¿ç”¨æ–¹å¼ å±•ç¤ºæ‰‹åŠ¿å¼€å‘çš„æ­¥éª¤åŠä»£ç å®ç° åˆ†æGestureçš„æºç åŠåŸç† ä½¿ç”¨çš„æ–¹å¼ é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠŠç”¨æˆ·éœ€è¦ä½¿ç”¨åˆ°çš„æ‰‹åŠ¿æå‰è®°å½•ä¸‹æ¥,å‡†å¤‡ä¸€äº›æ‰‹åŠ¿çš„æ ·æœ¬,åœ¨appå®‰è£…æ—¶éšç€èµ„æºæ–‡ä»¶æˆ–è€…ä¸‹è½½ç­‰æ–¹å¼å­˜å‚¨åˆ°ç”¨æˆ·çš„æ‰‹æœºé‡Œ,å½“ç”¨æˆ·åœ¨appç”»ä¸€ä¸ªæ‰‹åŠ¿æ—¶,å°±å»åŒ¹é…æ‰‹åŠ¿æ ·æœ¬,å½“æ—¶æ ·æœ¬æœ€å»åˆæ—¶,å°±çŸ¥é“ç”¨æˆ·çš„æ„å›¾,é‡‡å–æ‰§è¡Œå¯¹åº”çš„åŠŸèƒ½,è¿™æ ·å°±æ˜¯ä¸ªå¾ˆå¥½çš„äººæœºäº¤äº’çš„æ–¹å¼.
ä»ä¸Šæ–‡ä½¿ç”¨æ–¹å¼,æˆ‘ä»¬å¤§æ¦‚çŒœæƒ³åˆ°,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸œè¥¿,ç”¨æ¥ç®¡ç†å’Œè¯»å–æˆ‘ä»¬å·²ç»å­˜å‚¨çš„æ‰‹åŠ¿æ ·æœ¬,æˆ‘ä»¬è¿˜è¦éœ€è¦è¿™ä¸ªä¸œè¥¿å¯ä»¥è®¾åˆ«ç”¨æˆ·çš„æ‰‹åŠ¿è·Ÿæˆ‘ä»¬å·²ç»å­˜å‚¨çš„æ‰‹åŠ¿è¿›è¡ŒåŒ¹é….è¿˜æœ‰,æˆ‘ä»¬éœ€ä¸€ä¸ªä¸œè¥¿åœ¨appçš„ç•Œé¢ä¸Šè®°å½•ç”¨æˆ·çš„æ‰‹åŠ¿,æ²¡é”™,ä¸¤ä¸ªä¸œè¥¿éƒ½å­˜åœ¨,å°±æ˜¯GestureLibraryå’ŒGestureOverlayView,è¿™ä¸¤ä¸ªç±»å°±æ˜¯æ‰‹åŠ¿å¼€å‘é‡Œä½¿ç”¨çš„ä¸»è¦ä¸¤ä¸ªç±»,é€šè¿‡è¿™ä¸¤ä¸ªç±»,æˆ‘ä»¬å°±å¯ä»¥å®ç°æ‰‹åŠ¿å¼€å‘çš„æ‰€æœ‰åŠŸèƒ½,æ˜¯ä¸æ˜¯å¾ˆç®€å•.
æ€»ç»“ä¸€ä¸‹:
æå‰å‡†å¤‡å¥½æ‰‹åŠ¿æ ·æœ¬,åœ¨å®‰è£…æ—¶åŠ å…¥åˆ°èµ„æºæ–‡ä»¶æˆ–è€…å®‰è£…åç½‘ç»œä¸‹è½½. éœ€è¦ä½¿ç”¨æ‰‹åŠ¿çš„ç•Œé¢é‡Œä½¿ç”¨GestureOverlayViewè®°å½•ç”¨æˆ·çš„æ‰‹åŠ¿, ä½¿ç”¨GestureLibraryå¯¹è±¡å¯¹ç”¨æˆ·çš„æ‰‹åŠ¿è¿›è¡Œç›‘å¬å’ŒåŒ¹é…,æ‰¾åˆ°ç”¨æˆ·æ‰‹åŠ¿çš„æ„å›¾,æ‰§è¡Œå¯¹åº”çš„åŠŸèƒ½ æ­¥éª¤åŠä»£ç å®ç° æ‰‹åŠ¿åº“çš„åˆå§‹åŒ– GestureLibrary gLib=GestureLibraries.fromFile(æ‰‹åŠ¿åº“æ–‡ä»¶); gLib.load(); è¿™ä¸ªè¿‡ç¨‹æ˜¯è¯»å–å·²ç»å­˜å‚¨æ‰‹åŠ¿æ ·æœ¬æ–‡ä»¶,æ„é€ å‡ºGestureLibraryå®ä¾‹çš„è¿‡ç¨‹,éœ€è¦ç¬¬ä¸€æ­¥å®ç°.
å¯¹ç”¨æˆ·æ‰‹åŠ¿çš„ç›‘å¬ GestureOverlayView.addOnGesturePerformedListener() ä½¿ç”¨GestureLibraryå¯¹ç”¨æˆ·çš„æ‰‹åŠ¿è¿›è¡ŒåŒ¹é… recognize(Gesture gesture)
å¾ªç¯éå†è¿”å›çš„ArrayListå¯¹è±¡ï¼Œä½¿ç”¨Predictionçš„scoreæ¥åŒ¹é…æ‰‹åŠ¿çš„ç›¸ä¼¼åº¦ï¼Œ scoreè¶Šé«˜ä»£è¡¨è¶ŠåŒ¹é…. Prediction.score()
è¿™é‡Œå°±æ˜¯æ‰‹åŠ¿å¼€å‘çš„å®ç°çš„å…¨éƒ¨å†…å®¹,ä½†æ˜¯ä½œä¸ºä¸€ä¸ªç¨‹åºçŒ¿,éœ€è¦çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶,å°±è¦å¯¹æºç è¿›è¡Œè§£å‰–.
åŸç† æ‰‹åŠ¿çš„ç»“æ„ æ‰‹åŠ¿æ˜¯ç”¨æˆ·åœ¨å±å¹•ä¸Šç”»çš„ç¬¦å·,é‚£ä¹ˆæ‰‹åŠ¿å¯ä»¥ç®€å•çš„ä¸€ç¬”ç¬”ç”»,ä¾‹å¦‚ä¸€ä¸ªæ–¹å‘çš„ç®­å¤´(&gt;),ä¹Ÿå¯ä»¥å¤šç¬”åˆ’,å¾ˆå¤æ‚,ä¾‹å¦‚ä¸€ä¸ªæ–‡å­—.è¿™äº›éƒ½æ‰‹åŠ¿,æ‰€ä»¥æˆ‘ä»¬å°±çŸ¥é“
æ‰‹åŠ¿æ˜¯ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªç¬”ç”»ç»„æˆ
å­¦è¿‡æ•°å­¦çš„æˆ‘ä»¬éƒ½åˆ°çº¿æ˜¯ç”±ç‚¹ç»„æˆçš„,æ‰€ä»¥
ä¸€ä¸ªæ‰‹åŠ¿ç¬”ç”»æ˜¯ç”±å¤šä¸ªæ—¶é—´è¿ç»­çš„ç‚¹ç»„æˆ
ä¸€ä¸ªç‚¹æ„å‘³ç€ä»€ä¹ˆå‘¢,å®ƒä¼šå›ºå®šåœ¨å±å¹•çš„æŸä¸ªåœ°æ–¹,è¿˜éœ€è¦æ—¶é—´è¿ç»­ä¸æ–­,æ‰€ä»¥
æ‰‹åŠ¿ä¸­çš„ç‚¹åŒ…å«åæ ‡Xè½´å’ŒYè½´,è¿˜æœ‰æ—¶é—´æˆ³
æ‰€ä»¥æˆ‘ä»¬å°±å¾ˆå®¹æ˜“äº†è§£æ‰‹åŠ¿å¯¹åº”çš„æ–‡ä»¶äº†
GesturePoint : æ˜¯æ‰‹åŠ¿ç¬”åˆ’ä¸­çš„ä¸€ä¸ªç‚¹,åŒ…å«Xè½´,Yè½´çš„åæ ‡,è¿˜æœ‰æ—¶é—´æˆ³. GestureStroke : æ‰‹åŠ¿ç¬”åˆ’,å¯ä»¥ç†è§£ä¸ºçº¿,ç”±å¤šä¸ªç‚¹ç»„æˆçš„. Gesture : æ‰‹åŠ¿,ä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªæ‰‹åŠ¿,å¯ä»¥ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ‰‹åŠ¿ç¬”åˆ’ç»„æˆ. GestureStore æ‰‹åŠ¿ä»“åº“,é‡Œé¢å­˜å‚¨äº†å¤šä¸ªæ‰‹åŠ¿æ ·æœ¬
æ‰‹åŠ¿çš„ä½¿ç”¨ ä½¿ç”¨æ‰‹åŠ¿çš„è¿‡ç¨‹éƒ½æ˜¯å…ˆä»GestureLibraryå¼€å§‹,é‚£ä¹ˆçœ‹çœ‹GestureLibraryçš„å…³ç³»å›¾.
ä»å›¾ä¸­çœ‹,GestureLibraryçš„å®ç°æœ‰ä¸¤ç§,ä¸€ä¸ªFileçš„å®ç°,å¦å¤–ä¸€ä¸ªæ˜¯ç”±èµ„æºResourceå®ç°,è¯´æ˜æˆ‘ä»¬çš„æ‰‹åŠ¿åº“å¯æœ‰ä¸¤ä¸ªæ–¹å‘å¯ä»¥æ„é€ .
ç„¶åçœ‹å›GestureLibraryçš„æºç 
public abstract class GestureLibrary { protected final GestureStore mStore; ... } é‡Œé¢åªæœ‰ä¸€ä¸ªå¯¹è±¡,è€Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ç”±è¿™ä¸ªå¯¹è±¡å®ç°,ä¹Ÿå°±æ˜¯GestureLibraryå…¶å®æ˜¯GestureStoreçš„ä»£ç†ç±»,è€ŒçœŸæ­£çš„åŠŸèƒ½å…¶å®æ˜¯åœ¨GestureStoreé‡Œ.
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-05-05 13:15:33 +0000 UTC'>May 5, 2017</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;Steven</footer>
  <a class="entry-link" aria-label="post link to Android Gesture æ‰‹åŠ¿ç ”ç©¶" href="http://localhost:1313/posts/android-gesture-%E6%89%8B%E5%8A%BF%E7%A0%94%E7%A9%B6/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Steven&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
